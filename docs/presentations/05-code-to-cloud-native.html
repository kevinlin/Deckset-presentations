
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>05-code-to-cloud-native</title>
    <link rel="stylesheet" href="../enhanced_slide_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="presentation-container" data-presentation-title="05-code-to-cloud-native">
        <div class="slides-container">
            
<section class="slide" id="slide-1" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><em>From</em> Code <em>to</em> <strong><em>Cloud Native</em></strong></h1>
<h3>How DevOps works in Enterprise Projects</h3>
<h4>by <em><strong>Kevin Lin</strong></em>, <em><strong>Kin Yung Cheung</strong></em></h4>
<p>As a project team, every engineer should know the basics of docker/kubernetes Raise interest to inspire some of you to take up trainings For the sceenshots, we are going to show whatever is used in Prodia project</p>
                
                
                    
                        
                <video class="video-player"  autoplay data-autoplay="true" loop controls>
                    <source src="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/free/2020-05/large_watermarked/3d_ocean_1590675653_preview.mp4" type="video/mp4">
                    <p>Your browser doesn't support HTML5 video. 
                       <a href="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/free/2020-05/large_watermarked/3d_ocean_1590675653_preview.mp4">Download the video</a> instead.</p>
                </video>
            
                    
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">1</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Today Kin and I are going to talk about xxx.</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-2" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>I have written a Java API Service</h1>
<h1>What's next?</h1>
<p>Kevin: what does it take to deploy to the Cloud? Kin: so you want the service to be accessible by others? Kevin: Yes... Kin: wouldn't it be nice if you don't need to worrying about dependencies...? Kevin: Sure, how can I do that? Kin: Put it in a container</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">2</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kevin act as Java developer and asking the question:</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-3" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">Put it in a <em><strong>Container</strong></em></span></h1>
<h1><span class="fit-text">or simply a <em><strong>Docker container</strong></em></span></h1>
<p>1. Isolation (namespace) 1. Limitation (cgroups) 1. Simulation (fsroot)</p>
<p>Kevin: What is a container? Kin: Containerisation or dockerization ... is a form of virtualisation which is much lighter weight than VMs Kevin: okay... Kin: 1. In a container, your application operates in an isolated environement ... and 2. you can decide what OS and dependeceies are available in the environment. 3. Since containers run on top of a host and it is the job of the host to make sure that you have the CPU/memory resources that your container needs. 4. The way that a host manages resources is like airlines overbooking seats on flight so that it can maximise the utilisation of hardware resources it has 5. Ultimately, you can run more applications with given hardware resources that a server has. Pretty cool ah? Kevin: yeah, but how do I have a container?</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">3</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-4" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Typical dockerfile for a SpringBoot microservice</h1>
<p><pre class="code-block language-yaml"><code>-- FROM amazoncorretto:18-alpine-jdk</p>
<p>ARG JAR_FILE=target/*.jar COPY ${JAR_FILE} app.jar</p>
<p>EXPOSE 8080</p>
<p>ENTRYPOINT ["java","-jar","/app.jar"] --</code></pre></p>
<p>Kin: 1. to create a docker container, you need to create a docker image first and you need a dockerfile to do that 2. a dockerfile can be as simple as a few lines but it can get large too if your applicaiton has many dependencies 3. each line is basically an "instruction". each instruction will result an extra layer in a docker image. 4. the more instructions you have, the more layers will result and the bigger a docker image will become Kevin: Okay, so it is better to keep it small then Kin: (explain about the file) Kevin: then what's next?</p>
                
                
                
                
                    
                        
            <div class="code-container">
                <pre><code class="language-yaml"><span class="code-line" data-line="1">--</span>
<span class="code-line" data-line="2">FROM amazoncorretto:18-alpine-jdk</span>
<span class="code-line" data-line="3"></span>
<span class="code-line" data-line="4">ARG JAR_FILE=target/*.jar</span>
<span class="code-line" data-line="5">COPY ${JAR_FILE} app.jar</span>
<span class="code-line" data-line="6"></span>
<span class="code-line" data-line="7">EXPOSE 8080</span>
<span class="code-line" data-line="8"></span>
<span class="code-line" data-line="9">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span>
<span class="code-line" data-line="10">--</span></code></pre>
            </div>
        
                    
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">4</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-5" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>What need to done for Docker that is deployable</h1>
<p>1. Run the Docker command to build the image 1. Security scan on the image for CVE (expliots) 1. Publish to a docker registry, i.e.</p>
<p>- Dockerhub - AWS ECR - etc</p>
<p>Kin: (read slide) Kevin: Do I need to do this every I want to build a docker image? How do I make sure these steps are run every time correctly? Kin: If you want to automate this step, we need a CI platform</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">5</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-6" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Continuous Integration (CI) platform comes to rescue</h1>
<p>- Jenkins / CloudBees (for on-prem environments, mostly) - GitHub Actions - Bitbucket Pipeline - CircleCI</p>
<p>Kevin: Okay, can you show me what a CI platform looks like? Kin: sure</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">6</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin: since nowadays git repositories like Github and Bitbucket also have their own CI platforms, it is getting less common to use dedicated CI platforms like Jenkins and CircleCI</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-7" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Bitbucket Pipeline</h1>
<p>- Comes bundled with Bitbucket - Integrate well with JIRA/Confluence - Easy-to-use, developer-friendly UI</p>
<p>1) a CI pipeline has a few common steps, such as test, build, scan, package, and the last step might involve deployment 2) a pipeline is normally triggered by a code commit and it should be done automatically 3) any unsuccessful builds or tests should be reported by the CI platform immediately 4) since every operation is recorded, we are able to know who is responsible for each build Kevin: Wow, that's pretty cool. You can see each step very clearly and even logs as well. Kin: Yep</p>
                
                    
            <img class="inline-image" 
                 src="../slides/05-code-to-cloud-native/bitbucket-pipeline-screenshot.png"
                 alt="right, fit"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">7</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin:</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-8" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>CI Flow</h1>
<p>Kevin: Is it hard to setup a CI pipeline? how to create one?</p>
                
                    
            <img class="inline-image" style="width: 120%"
                 src="slides/05-code-to-cloud-native/CI%20Flow.png"
                 alt="Inline, 120%"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">8</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin: here is an example that you can have multiple pipelines and each can be triggered under different conditions, such as by branch, by event, etc.</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-9" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <p><div class="autoscale-content"># Sample Bitbucket Pipeline for Java API Service (Partial)</p>
<p><pre class="code-block language-yaml"><code>definitions: steps: - parallel: &unit-Test - step: name: Build and Test - step: name: Security Scan</p>
<p>- step: &build-artifact-and-deploy name: Build Image and Update Helm Chart</p>
<p>- step: &promote-to-env</p>
<p>pipelines: default: - parallel: *unit-Test branches: sit: - parallel: *unit-Test - step: <<: *build-artifact-and-deploy deployment: sit - step: <<: *promote-to-env name: Promote to UAT trigger: manual deployment: uat</code></pre></p>
<p>- it depends on... setting up a CI pipeline can be complex and it also can quite simple. - some CI platforms support more features, such as folder-level code change detections so that you can build only whats been changed. that's great for monorepos. - but most pipeline scripts consist of two big sections, a pipelines section and a steps section. - the pipelines section ..... - the steps section ... - after you have created a CI script like this, you simple put it together with the source code that you want to build. The CI platform will read the script and run it accrodingly. Kevin: so after a CI pipeline is done, where is my application? has it been deployed to the cloud yet?</div></p>
                
                
                
                
                    
                        
            <div class="code-container">
                <pre><code class="language-yaml"><span class="code-line" data-line="1">definitions:</span>
<span class="code-line" data-line="2">  steps:</span>
<span class="code-line" data-line="3">    - parallel: &amp;unit-Test</span>
<span class="code-line" data-line="4">        - step:</span>
<span class="code-line" data-line="5">            name: Build and Test</span>
<span class="code-line" data-line="6">        - step:</span>
<span class="code-line" data-line="7">            name: Security Scan</span>
<span class="code-line" data-line="8">    </span>
<span class="code-line" data-line="9">    - step: &amp;build-artifact-and-deploy</span>
<span class="code-line" data-line="10">        name: Build Image and Update Helm Chart</span>
<span class="code-line" data-line="11">    </span>
<span class="code-line" data-line="12">    - step: &amp;promote-to-env</span>
<span class="code-line" data-line="13"></span>
<span class="code-line" data-line="14">pipelines:</span>
<span class="code-line" data-line="15">  default:</span>
<span class="code-line" data-line="16">    - parallel: *unit-Test</span>
<span class="code-line" data-line="17">  branches:</span>
<span class="code-line" data-line="18">    sit:</span>
<span class="code-line" data-line="19">      - parallel: *unit-Test</span>
<span class="code-line" data-line="20">      - step:</span>
<span class="code-line" data-line="21">          &lt;&lt;: *build-artifact-and-deploy</span>
<span class="code-line" data-line="22">          deployment: sit</span>
<span class="code-line" data-line="23">      - step:</span>
<span class="code-line" data-line="24">          &lt;&lt;: *promote-to-env</span>
<span class="code-line" data-line="25">          name: Promote to UAT</span>
<span class="code-line" data-line="26">          trigger: manual</span>
<span class="code-line" data-line="27">          deployment: uat</span></code></pre>
            </div>
        
                    
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">9</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin:</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-10" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Where do we deploy a docker image to?</h1>
<h2>and how do we do that?</h2>
<p>1. Host it on a single server</p>
<p>- AWS EC2 - GCP Compute Instance Cloud</p>
<p>Is it good enough for you?</p>
<p>- No, not yet. we are just half way there. Up to this point, your docker image is stored in a docker registry. - what comes next depends on what you need for your applications. Things like availability, scalability, security, etc.. - is hosting on a single server enough for you? Kevin: No... this API service is mission critical and we need it to be running 24x7 and scale accordingly Kin: Okay, it sounds important and we need something more...</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">10</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin:</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-11" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Things to consider:</h1>
<h2>How do you make sure the docker is running properly?</h2>
<h3>- What happens when it <em>_crashes</em>_?</h3>
<h2>What if we want to have multiple instances to form a cluster?</h2>
<h3>- What happens when one of the <em>_instances</em>_ went down?</h3>
<h2>What if we want to have 10s or 100s of services running together in a target environment?</h2>
<h3>- Would it be cool if a service can <em>_auto-scale</em>_ when it is under heavy load?</h3>
                
                    
            <img class="inline-image" 
                 src="../slides/05-code-to-cloud-native/docker-swarm.png"
                 alt="inline"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">11</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-12" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>How containers work at scale</h1>
<p># #</p>
                
                
                    
                        
                <video class="video-player"  autoplay data-autoplay="true" loop controls>
                    <source src="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/premium/getty_10/large_watermarked/istock-621325890_preview.mp4" type="video/mp4">
                    <p>Your browser doesn't support HTML5 video. 
                       <a href="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/premium/getty_10/large_watermarked/istock-621325890_preview.mp4">Download the video</a> instead.</p>
                </video>
            
                    
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">12</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-13" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">Let's talk about <em><strong>Kubernetes</strong></em></span></h1>
<p>* Orchestration system for automating container deployment, scaling, and management * Original introduced by Google, now maintained by CNCF * De-factor standard to deploy and operate containerized applications</p>
<p>Kin: (slide) Kevin: Okay</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">13</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kevin: I have heard of Kubernetes. What's the difference between Docker and Kubernetes? Is k8s an evolutaion of Docker?</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-14" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <p><div class="autoscale-content">## Control Plane vs Work Nodes</p>
<p>Kin: - haha, Kubernetes is quite a beast and it is ~complex~ but lucklily we don't need to manage everything ourselves nowadays - Kubernetes has two parts. The control plane and worker nodes. - Unless you are extremely lucky and have to create kubernetes form scratch, you don't need to worry much about the control plane because there are plenty of managed services out there that can manage the control plan for you. They will make sure it - Mostly likely as a developer, you will only need to worry about worker nodes because it is where your applications are running on - As you can see that pods are running on nodes and we can think of nodes as VMs on different phyical servers - In cloud environments, a kubernetes cluster is made up of multiple nodes that are phyiscally located in different availability zones. Kevin: Do I always have to pay to even use Kubernetes? Even when I just want to try it on my local machine?</div></p>
                
                    
            <img class="inline-image" style="width: 68%"
                 src="../slides/05-code-to-cloud-native/kubernetes-architecture.jpg"
                 alt="inline, 68%"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">14</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kevin: Wow, what is this? my head hurts.</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-15" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Different flavors of <em><strong>Kubernetes</strong></em>:</h1>
<p>- Local: - Minikube (single-node), K3s (light-weight & production-grade) - Self-managed Kubernetes (control plane & worker nodes) - On-prem/Private Cloud: - OpenShift (Redhat & enterprise support) - Managed Kubernetes services: - EKS (AWS), GKE (GCP), AKS (Azure), DigitalOcean etc</p>
<p>Kin: (slide) Kevin: Is that all we need to know about Kubernetes? Kin: hmm... not quite</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">15</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-16" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Kubernetes in Summary</h1>
<p>- Everything run in Kubernetes are resource objects - Pod - Deployment - Service - Ingress - ConfigMap - Secret - ...</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">16</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kevin: What exact is a Pod? Is it another name for a container?</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-17" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <p>- Pod is the smallest unit in kubernetes but it is still larger than a container - (continue onto 'container', 'deployment', 'service', and others)</p>
                
                    
            <img class="inline-image" 
                 src="../slides/05-code-to-cloud-native/kubernetes-objects.png"
                 alt="inline"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">17</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kin:</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-18" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">Live Demo of</span></h1>
<h1><span class="fit-text"><em><strong>Kubernetes</strong></em></span></h1>
<p>Pause for questions Explain Rancher, demo again using K9s</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">18</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Demo Rancher: node -> namepace -> workload -> deployment -> pod</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-19" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Demo summary</h1>
<p>1. Resources can be created & destroyed using YAML files 2. Auto recovery is supported out of the box 3. Pods can be accessed through port-forward or LB, BUT... 4. ** Should use an ingress controller instead because you don't want to create one LB for every service. It is <em>expensive</em>!</p>
<p>Kevin: do we have to create resources manually?</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">19</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-20" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>How exactly do I deploy to <em><strong>Kubernetes</strong></em> Cluster?</h1>
<p>1. Manually via - <code>kubectl apply -f deployment.yaml</code></p>
<p>1. Via a Continuous Deployment (CD) platform</p>
<p>- ArgoCD - Flux CD - Octopus Deploy - Spinnaker</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">20</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-21" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Helm Chart</h1>
<p>- For a typical microservice with minimum resources: 1. deployment.yaml 2. service.yaml 3. ingress.yaml - Managing YAML files for many similar services will introduce a huge maintenance overhead - Using templates and variable overrides can help</p>
                
                    
            <img class="inline-image" style="width: 100%"
                 src="../slides/05-code-to-cloud-native/helm-chart.png"
                 alt="right, 100%"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">21</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>- Deploy multiple services with similar deployment YAML</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-22" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Helm Chart & <em><strong>Kustomize</strong></em></h1>
<p><strong><em>Helm3</em></strong> is an <strong>imperative templating</strong> tool for managing Kubernetes packages called charts.</p>
<p>- Charts are a templated version of your yaml manifests with a subset of Go Templating mixed throughout. - Chart is also a <em>_package manager</em>_ for kubernetes that can package, configure, and deploy/apply the helm charts onto kubernetes clusters.</p>
<p><strong><em>Kustomize</em></strong>: is a <strong>declarative tool</strong>, which works with yaml directly and works as a stream editor like sed.</p>
<p>- <code>kubectl apply -k environment/sit</code> - It <em>_doesn’t add additional abstraction layer</em><em> at all. It permits you to </em><em>add logic into YAML</em>_, that’s all. - It is a purely declarative approach to configuration customization. - It runs as a standalone binary, which makes it perfect for CI/CD pipelines.</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">22</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
        <aside class="speaker-notes" style="display: none;">
            <p>Kustomize traverses a Kubernetes manifest to add, remove or update configuration options without forking.</p>
        </aside>
    
</section>
        
<section class="slide" id="slide-23" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <p><div class="autoscale-content"># <code>service.yaml</code></p>
<p><pre class="code-block language-yaml"><code>{{- define "library-chart.service.tpl" -}} {{- $requiredMsg := include "library-chart.default-check-required-msg" . -}} apiVersion: v1 kind: Service metadata: name: {{ include "library-chart.name" . }} labels: {{- include "library-chart.labels" . | nindent 4 }} spec: type: {{ (.Values.service).type | default "ClusterIP" | quote }} ports: - port: {{ (.Values.service).port | include "default.port" }} targetPort: {{ (.Values.service).targetPort | default "8080"  }} protocol: TCP name: http selector: {{- include "library-chart.selectorLabels" . | nindent 4 }} {{- end -}} {{- define "library-chart.service" -}} {{- include "library-chart.util.merge" (append . "library-chart.service.tpl") -}} {{- end -}}</code></pre></p>
<p>Kin: - this is a helm template for a service YAML file, which looks a little different from a regular YAML file. - it does take a bit of learning curve to get used to and it is relatively difficult to debug due to indentations and brackets - (placeholders, default values, piping, variables and function calls)</div></p>
                
                
                
                
                    
                        
            <div class="code-container">
                <pre><code class="language-yaml"><span class="code-line" data-line="1">{{- define &quot;library-chart.service.tpl&quot; -}}</span>
<span class="code-line" data-line="2">{{- $requiredMsg := include &quot;library-chart.default-check-required-msg&quot; . -}}</span>
<span class="code-line" data-line="3">apiVersion: v1</span>
<span class="code-line" data-line="4">kind: Service</span>
<span class="code-line" data-line="5">metadata:</span>
<span class="code-line" data-line="6">  name: {{ include &quot;library-chart.name&quot; . }}</span>
<span class="code-line" data-line="7">  labels:</span>
<span class="code-line" data-line="8">          {{- include &quot;library-chart.labels&quot; . | nindent 4 }}</span>
<span class="code-line" data-line="9">spec:</span>
<span class="code-line" data-line="10">  type: {{ (.Values.service).type | default &quot;ClusterIP&quot; | quote }}</span>
<span class="code-line" data-line="11">  ports:</span>
<span class="code-line" data-line="12">    - port: {{ (.Values.service).port | include &quot;default.port&quot; }}</span>
<span class="code-line" data-line="13">      targetPort: {{ (.Values.service).targetPort | default &quot;8080&quot;  }}</span>
<span class="code-line" data-line="14">      protocol: TCP</span>
<span class="code-line" data-line="15">      name: http</span>
<span class="code-line" data-line="16">  selector:</span>
<span class="code-line" data-line="17">      {{- include &quot;library-chart.selectorLabels&quot; . | nindent 4 }}</span>
<span class="code-line" data-line="18">    {{- end -}}</span>
<span class="code-line" data-line="19">    {{- define &quot;library-chart.service&quot; -}}</span>
<span class="code-line" data-line="20">    {{- include &quot;library-chart.util.merge&quot; (append . &quot;library-chart.service.tpl&quot;) -}}</span>
<span class="code-line" data-line="21">    {{- end -}}</span></code></pre>
            </div>
        
                    
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">23</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-24" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><code>values-sit.yaml</code></h1>
<p><pre class="code-block language-yaml"><code># deployment.yaml image: tag: "hello-world-api-poc-ee2a450c"</p>
<h1>service.yaml</h1>
<p>service: path: sample-api</p>
<h1>deployment.yaml</h1>
<p>replicas: 1</p>
<h1>configmap.yaml</h1>
<p>config: application.yml: |- greeting: message: Say Hello to the World 123 farewell: message: Say Goodbye</code></pre></p>
                
                
                
                
                    
                        
            <div class="code-container">
                <pre><code class="language-yaml"><span class="code-line" data-line="1"># deployment.yaml</span>
<span class="code-line" data-line="2">image:</span>
<span class="code-line" data-line="3">  tag: &quot;hello-world-api-poc-ee2a450c&quot;</span>
<span class="code-line" data-line="4"></span>
<span class="code-line" data-line="5"># service.yaml</span>
<span class="code-line" data-line="6">service:</span>
<span class="code-line" data-line="7">  path: sample-api</span>
<span class="code-line" data-line="8"></span>
<span class="code-line" data-line="9"># deployment.yaml</span>
<span class="code-line" data-line="10">replicas: 1</span>
<span class="code-line" data-line="11"></span>
<span class="code-line" data-line="12"># configmap.yaml</span>
<span class="code-line" data-line="13">config:</span>
<span class="code-line" data-line="14">  application.yml: |-</span>
<span class="code-line" data-line="15">    greeting:</span>
<span class="code-line" data-line="16">      message: Say Hello to the World 123</span>
<span class="code-line" data-line="17">    farewell:</span>
<span class="code-line" data-line="18">      message: Say Goodbye</span></code></pre>
            </div>
        
                    
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">24</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-25" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">Kustomize</span></h1>
<p>- base - deployment.yaml - service.yaml - etc. - patches (overlays) - environment/sit - environment/uat - etc.</p>
                
                    
            <img class="inline-image" 
                 src="slides/05-code-to-cloud-native/https://kustomize.io/images/header_templates.png"
                 alt="right"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">25</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-26" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">GitOps</span></h1>
<p><strong>What is GitOps?</strong> - Takes DevOps best practices used for application development and applies them to infrastructure automation, including <em>_version control</em>_ for tracking changes</p>
<p><strong>What is GitOps used for?</strong> - Automate the process of <em>_provisioning infrastructure</em>_ by storing configuration files as code (infrastructure as code).</p>
<p><strong>How does GitOps work?</strong> - GitOps configuration files <em>_generate the same infrastructure environment every time it’s deployed</em>_, just as application source code generates the same application binaries every time it’s built.</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">26</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-27" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>ArgoCD</h1>
<h3>Continuous deployment to kubernetes made easy</h3>
<p>1. Declarative approach - I want 2 replicas, 1 ingress controller and 1 config map for service A - I wast 3 replicas, 1 secret and 1 persistent storage for service B 2. Based on the desired target state in git, ArgoCD keeps the environment in-sync 3. If someone has accidentally changed the environment, ArgoCD will revert the change back the target state</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">27</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-28" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>CD Flow</h1>
                
                    
            <img class="inline-image" 
                 src="slides/05-code-to-cloud-native/CD%20Flow.png"
                 alt="Inline"
                 loading="lazy">
        
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">28</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-29" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">ArgoCD Live Demo</span></h1>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">29</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-30" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">K9s</span></h1>
<p>- Rancher is great but - I have to install it in my cluster and it is a pain to install - it takes up pod space in my cluster - it has tons of features but I just want to know what's running in my clusters - I like commmand line</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">30</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-31" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1><span class="fit-text">What's Next?</span></h1>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">31</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-32" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                <h1>Advanced topics</h1>
<p>- Configuration management - ConfigMap vs config service vs env vars - Secret management - Sealed Secret - Operation dashboard - Logging: Fluent Bit + CloudWatch - App Performance Monitoring: Prometheus + Grafana</p>
                
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">32</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
<section class="slide" id="slide-33" 
         data-transition="none"
         data-autoscale="true">
    
    <!-- Background Image -->
    
    
    <!-- Slide Content -->
    <div class="slide-content single-column">
        
            <div class="content-area">
                
                
                
                    
                        
                <video class="video-player"  autoplay data-autoplay="true" loop controls>
                    <source src="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/free/video0485/large_watermarked/_import_61c038fe02da37.31897389_preview.mp4" type="video/mp4">
                    <p>Your browser doesn't support HTML5 video. 
                       <a href="slides/05-code-to-cloud-native/https://cdn.videvo.net/videvo_files/video/free/video0485/large_watermarked/_import_61c038fe02da37.31897389_preview.mp4">Download the video</a> instead.</p>
                </video>
            
                    
                
                
                
                
            </div>
        
    </div>
    
    <!-- Footnotes -->
    
    
    <!-- Footer -->
    
        <div class="slide-footer">
            
            <div class="footer-content">
                <p>Zuhlke Engineering Asia</p>
            </div>
        
        </div>
    
    
    <!-- Slide Number -->
    
        <div class="slide-number">
            
                <span class="slide-number-current">33</span>
            
        </div>
    
    
    <!-- Speaker Notes (hidden by default) -->
    
</section>
        
        </div>
        
        <!-- Navigation -->
        <div class="navigation">
            <button id="prev-slide" class="nav-button">Previous</button>
            <span id="slide-counter">1 / 33</span>
            <button id="next-slide" class="nav-button">Next</button>
            <button id="toggle-notes" class="nav-button">Notes</button>
        </div>
    </div>
    
    <!-- Enhanced JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="../assets/js/enhanced-slide-viewer.js"></script>
    
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                tags: 'none',
                formatError: function (jax, err) {
                    // Custom error formatting
                    console.warn('MathJax LaTeX Error:', err.message);
                    return 'LaTeX Error: ' + err.message.replace(/\n/g, ' ');
                },
                macros: {
                    // Common macros for better compatibility
                    RR: "\\mathbb{R}",
                    NN: "\\mathbb{N}",
                    ZZ: "\\mathbb{Z}",
                    QQ: "\\mathbb{Q}",
                    CC: "\\mathbb{C}",
                    // Additional useful macros
                    eps: "\\varepsilon",
                    phi: "\\varphi",
                    implies: "\\Rightarrow",
                    iff: "\\Leftrightarrow"
                }
            },
            svg: {
                fontCache: 'global',
                displayAlign: 'center',
                displayIndent: '0em',
                scale: 1,
                minScale: 0.5,
                mtextInheritFont: false,
                merrorInheritFont: true
            },
            options: {
                enableMenu: false,
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process',
                renderActions: {
                    addMenu: [],  // Disable context menu
                    checkLoading: []  // Disable loading messages
                }
            },
            startup: {
                ready: function () {
                    MathJax.startup.defaultReady();
                    // Add responsive behavior for math formulas
                    MathJax.startup.document.addRenderAction('responsive', function() {
                        // Handle display math responsiveness
                        const displays = document.querySelectorAll('.MathJax[display="true"]');
                        displays.forEach(function(display) {
                            const container = display.parentElement;
                            if (container && display.scrollWidth > container.clientWidth) {
                                // Scale down if too wide
                                const scale = Math.min(0.8, container.clientWidth / display.scrollWidth);
                                if (scale < 1) {
                                    display.style.transform = `scale(${scale})`;
                                    display.style.transformOrigin = 'center';
                                    display.style.margin = '0.5em 0';
                                }
                                
                                // Add horizontal scrolling as fallback
                                display.style.overflowX = 'auto';
                                display.style.overflowY = 'hidden';
                                display.style.maxWidth = '100%';
                            }
                        });
                        
                        // Handle inline math responsiveness
                        const inlines = document.querySelectorAll('.MathJax[display="false"]');
                        inlines.forEach(function(inline) {
                            const container = inline.parentElement;
                            if (container && inline.scrollWidth > container.clientWidth * 0.8) {
                                inline.style.fontSize = '0.9em';
                                inline.style.overflowX = 'auto';
                                inline.style.display = 'inline-block';
                                inline.style.maxWidth = '80%';
                            }
                        });
                    });
                    // Enhanced error handling
                    MathJax.startup.document.addRenderAction('errorHandling', function() {
                        // Find and handle math errors
                        const errors = document.querySelectorAll('.MathJax .merror');
                        errors.forEach(function(error) {
                            const mathElement = error.closest('.MathJax');
                            if (mathElement) {
                                // Add error styling
                                mathElement.style.backgroundColor = '#ffebee';
                                mathElement.style.border = '1px solid #f44336';
                                mathElement.style.borderRadius = '3px';
                                mathElement.style.padding = '2px 4px';
                                
                                // Add tooltip with error information
                                mathElement.title = 'Math rendering error: ' + error.textContent;
                                
                                // Log error for debugging
                                console.warn('MathJax rendering error:', error.textContent, mathElement);
                            }
                        });
                    });
                },
                pageReady: function () {
                    // Custom page ready handler
                    return MathJax.startup.defaultPageReady().then(function () {
                        // Add global error handler
                        window.addEventListener('error', function(e) {
                            if (e.message && e.message.includes('MathJax')) {
                                console.error('MathJax Error:', e.message, e.filename, e.lineno);
                            }
                        });
                    });
                }
            },
            loader: {
                load: ['[tex]/ams', '[tex]/newcommand', '[tex]/configmacros']
            }
        };
    </script>
</body>
</html>
            